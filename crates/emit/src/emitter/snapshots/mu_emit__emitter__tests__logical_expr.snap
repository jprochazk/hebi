---
source: crates/emit/src/emitter/tests.rs
expression: snapshot
---
# Input:
fn f0(a, b):
  a && b
  a || b
  a ?? b


fn f1_a(a, b, c, d):
  (a && b) || (c && d)
fn f1_b(a, b, c, d):
   a && b  ||  c && d

fn f2_a(a, b, c, d):
  (a || (b && c)) || d
fn f2_b(a, b, c, d):
  a ||  b && c  || d

fn f3(a, b, c, d):
  a ?? b ?? c


# Chunk:
function <f0>:
  frame_size: 6
  length: 40
  const: <empty>
  code:
     0 | load_reg r4
     2 | jump_if_false offset=8
     4 | nop 
     5 | nop 
     6 | nop 
     7 | nop 
     8 | load_reg r5
    10 | load_reg r4
    12 | jump_if_false offset=12
    14 | nop 
    15 | nop 
    16 | nop 
    17 | nop 
    18 | jump offset=8
    20 | nop 
    21 | nop 
    22 | nop 
    23 | nop 
    24 | load_reg r5
    26 | load_reg r4
    28 | is_none 
    29 | jump_if_false offset=8
    31 | nop 
    32 | nop 
    33 | nop 
    34 | nop 
    35 | load_reg r5
    37 | push_none 
    38 | ret 
    39 | suspend 

function <f1_a>:
  frame_size: 8
  length: 35
  const: <empty>
  code:
     0 | load_reg r4
     2 | jump_if_false offset=8
     4 | nop 
     5 | nop 
     6 | nop 
     7 | nop 
     8 | load_reg r5
    10 | jump_if_false offset=12
    12 | nop 
    13 | nop 
    14 | nop 
    15 | nop 
    16 | jump offset=16
    18 | nop 
    19 | nop 
    20 | nop 
    21 | nop 
    22 | load_reg r6
    24 | jump_if_false offset=8
    26 | nop 
    27 | nop 
    28 | nop 
    29 | nop 
    30 | load_reg r7
    32 | push_none 
    33 | ret 
    34 | suspend 

function <f1_b>:
  frame_size: 8
  length: 35
  const: <empty>
  code:
     0 | load_reg r4
     2 | jump_if_false offset=8
     4 | nop 
     5 | nop 
     6 | nop 
     7 | nop 
     8 | load_reg r5
    10 | jump_if_false offset=12
    12 | nop 
    13 | nop 
    14 | nop 
    15 | nop 
    16 | jump offset=16
    18 | nop 
    19 | nop 
    20 | nop 
    21 | nop 
    22 | load_reg r6
    24 | jump_if_false offset=8
    26 | nop 
    27 | nop 
    28 | nop 
    29 | nop 
    30 | load_reg r7
    32 | push_none 
    33 | ret 
    34 | suspend 

function <f2_a>:
  frame_size: 8
  length: 41
  const: <empty>
  code:
     0 | load_reg r4
     2 | jump_if_false offset=12
     4 | nop 
     5 | nop 
     6 | nop 
     7 | nop 
     8 | jump offset=16
    10 | nop 
    11 | nop 
    12 | nop 
    13 | nop 
    14 | load_reg r5
    16 | jump_if_false offset=8
    18 | nop 
    19 | nop 
    20 | nop 
    21 | nop 
    22 | load_reg r6
    24 | jump_if_false offset=12
    26 | nop 
    27 | nop 
    28 | nop 
    29 | nop 
    30 | jump offset=8
    32 | nop 
    33 | nop 
    34 | nop 
    35 | nop 
    36 | load_reg r7
    38 | push_none 
    39 | ret 
    40 | suspend 

function <f2_b>:
  frame_size: 8
  length: 41
  const: <empty>
  code:
     0 | load_reg r4
     2 | jump_if_false offset=12
     4 | nop 
     5 | nop 
     6 | nop 
     7 | nop 
     8 | jump offset=16
    10 | nop 
    11 | nop 
    12 | nop 
    13 | nop 
    14 | load_reg r5
    16 | jump_if_false offset=8
    18 | nop 
    19 | nop 
    20 | nop 
    21 | nop 
    22 | load_reg r6
    24 | jump_if_false offset=12
    26 | nop 
    27 | nop 
    28 | nop 
    29 | nop 
    30 | jump offset=8
    32 | nop 
    33 | nop 
    34 | nop 
    35 | nop 
    36 | load_reg r7
    38 | push_none 
    39 | ret 
    40 | suspend 

function <f3>:
  frame_size: 8
  length: 23
  const: <empty>
  code:
     0 | load_reg r4
     2 | is_none 
     3 | jump_if_false offset=8
     5 | nop 
     6 | nop 
     7 | nop 
     8 | nop 
     9 | load_reg r5
    11 | is_none 
    12 | jump_if_false offset=8
    14 | nop 
    15 | nop 
    16 | nop 
    17 | nop 
    18 | load_reg r6
    20 | push_none 
    21 | ret 
    22 | suspend 

function <[[main]]>:
  frame_size: 0
  length: 26
  const (length=12):
    0: <func f0>
    1: "f0"
    2: <func f1_a>
    3: "f1_a"
    4: <func f1_b>
    5: "f1_b"
    6: <func f2_a>
    7: "f2_a"
    8: <func f2_b>
    9: "f2_b"
    10: <func f3>
    11: "f3"
  code:
     0 | load_const [0]
     2 | store_global [1]
     4 | load_const [2]
     6 | store_global [3]
     8 | load_const [4]
    10 | store_global [5]
    12 | load_const [6]
    14 | store_global [7]
    16 | load_const [8]
    18 | store_global [9]
    20 | load_const [10]
    22 | store_global [11]
    24 | ret 
    25 | suspend 

