---
source: ex/vm3/tests/./common/mod.rs
expression: snapshot
---
[
    Stmt {
        span: Span {
            start: 1,
            end: 6,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 5,
                        end: 6,
                    },
                    lexeme: "c",
                },
                value: None,
            },
        ),
    },
    Stmt {
        span: Span {
            start: 7,
            end: 16,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 11,
                        end: 12,
                    },
                    lexeme: "b",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 15,
                            end: 16,
                        },
                        kind: Lit(
                            Int(
                                2,
                            ),
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 17,
            end: 30,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 21,
                        end: 22,
                    },
                    lexeme: "a",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 25,
                            end: 30,
                        },
                        kind: Binary(
                            Binary {
                                op: Add,
                                lhs: Expr {
                                    span: Span {
                                        start: 25,
                                        end: 26,
                                    },
                                    kind: Lit(
                                        Int(
                                            1,
                                        ),
                                    ),
                                },
                                rhs: Expr {
                                    span: Span {
                                        start: 29,
                                        end: 30,
                                    },
                                    kind: Lit(
                                        Int(
                                            1,
                                        ),
                                    ),
                                },
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 31,
            end: 40,
        },
        kind: Expr(
            Expr {
                span: Span {
                    start: 31,
                    end: 40,
                },
                kind: SetVar(
                    SetVar {
                        name: Ident {
                            span: Span {
                                start: 31,
                                end: 32,
                            },
                            lexeme: "c",
                        },
                        value: Expr {
                            span: Span {
                                start: 35,
                                end: 40,
                            },
                            kind: Binary(
                                Binary {
                                    op: Add,
                                    lhs: Expr {
                                        span: Span {
                                            start: 35,
                                            end: 36,
                                        },
                                        kind: GetVar(
                                            GetVar {
                                                name: Ident {
                                                    span: Span {
                                                        start: 35,
                                                        end: 36,
                                                    },
                                                    lexeme: "b",
                                                },
                                            },
                                        ),
                                    },
                                    rhs: Expr {
                                        span: Span {
                                            start: 39,
                                            end: 40,
                                        },
                                        kind: GetVar(
                                            GetVar {
                                                name: Ident {
                                                    span: Span {
                                                        start: 39,
                                                        end: 40,
                                                    },
                                                    lexeme: "a",
                                                },
                                            },
                                        ),
                                    },
                                },
                            ),
                        },
                        kind: Bare,
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 42,
            end: 92,
        },
        kind: Expr(
            Expr {
                span: Span {
                    start: 42,
                    end: 92,
                },
                kind: If(
                    If {
                        br: [
                            Branch {
                                cond: Expr {
                                    span: Span {
                                        start: 45,
                                        end: 49,
                                    },
                                    kind: Lit(
                                        Bool(
                                            true,
                                        ),
                                    ),
                                },
                                body: Block {
                                    body: [],
                                    last: Some(
                                        Expr {
                                            span: Span {
                                                start: 54,
                                                end: 66,
                                            },
                                            kind: Call(
                                                Call {
                                                    target: Expr {
                                                        span: Span {
                                                            start: 54,
                                                            end: 59,
                                                        },
                                                        kind: GetVar(
                                                            GetVar {
                                                                name: Ident {
                                                                    span: Span {
                                                                        start: 54,
                                                                        end: 59,
                                                                    },
                                                                    lexeme: "print",
                                                                },
                                                            },
                                                        ),
                                                    },
                                                    args: [
                                                        Expr {
                                                            span: Span {
                                                                start: 60,
                                                                end: 65,
                                                            },
                                                            kind: Lit(
                                                                String(
                                                                    "foo",
                                                                ),
                                                            ),
                                                        },
                                                    ],
                                                },
                                            ),
                                        },
                                    ),
                                },
                            },
                        ],
                        tail: Some(
                            Block {
                                body: [],
                                last: Some(
                                    Expr {
                                        span: Span {
                                            start: 78,
                                            end: 90,
                                        },
                                        kind: Call(
                                            Call {
                                                target: Expr {
                                                    span: Span {
                                                        start: 78,
                                                        end: 83,
                                                    },
                                                    kind: GetVar(
                                                        GetVar {
                                                            name: Ident {
                                                                span: Span {
                                                                    start: 78,
                                                                    end: 83,
                                                                },
                                                                lexeme: "print",
                                                            },
                                                        },
                                                    ),
                                                },
                                                args: [
                                                    Expr {
                                                        span: Span {
                                                            start: 84,
                                                            end: 89,
                                                        },
                                                        kind: Lit(
                                                            String(
                                                                "bar",
                                                            ),
                                                        ),
                                                    },
                                                ],
                                            },
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 94,
            end: 114,
        },
        kind: Expr(
            Expr {
                span: Span {
                    start: 94,
                    end: 114,
                },
                kind: Block(
                    Block {
                        body: [],
                        last: Some(
                            Expr {
                                span: Span {
                                    start: 98,
                                    end: 112,
                                },
                                kind: Call(
                                    Call {
                                        target: Expr {
                                            span: Span {
                                                start: 98,
                                                end: 103,
                                            },
                                            kind: GetVar(
                                                GetVar {
                                                    name: Ident {
                                                        span: Span {
                                                            start: 98,
                                                            end: 103,
                                                        },
                                                        lexeme: "print",
                                                    },
                                                },
                                            ),
                                        },
                                        args: [
                                            Expr {
                                                span: Span {
                                                    start: 104,
                                                    end: 111,
                                                },
                                                kind: Lit(
                                                    String(
                                                        "block",
                                                    ),
                                                ),
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 116,
            end: 167,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 120,
                        end: 121,
                    },
                    lexeme: "d",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 124,
                            end: 167,
                        },
                        kind: Block(
                            Block {
                                body: [
                                    Stmt {
                                        span: Span {
                                            start: 128,
                                            end: 161,
                                        },
                                        kind: Expr(
                                            Expr {
                                                span: Span {
                                                    start: 128,
                                                    end: 161,
                                                },
                                                kind: Call(
                                                    Call {
                                                        target: Expr {
                                                            span: Span {
                                                                start: 128,
                                                                end: 133,
                                                            },
                                                            kind: GetVar(
                                                                GetVar {
                                                                    name: Ident {
                                                                        span: Span {
                                                                            start: 128,
                                                                            end: 133,
                                                                        },
                                                                        lexeme: "print",
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                        args: [
                                                            Expr {
                                                                span: Span {
                                                                    start: 134,
                                                                    end: 160,
                                                                },
                                                                kind: Lit(
                                                                    String(
                                                                        "expression-based grammar",
                                                                    ),
                                                                ),
                                                            },
                                                        ],
                                                    },
                                                ),
                                            },
                                        ),
                                    },
                                ],
                                last: Some(
                                    Expr {
                                        span: Span {
                                            start: 164,
                                            end: 165,
                                        },
                                        kind: GetVar(
                                            GetVar {
                                                name: Ident {
                                                    span: Span {
                                                        start: 164,
                                                        end: 165,
                                                    },
                                                    lexeme: "c",
                                                },
                                            },
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 169,
            end: 178,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 173,
                        end: 174,
                    },
                    lexeme: "i",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 177,
                            end: 178,
                        },
                        kind: Lit(
                            Int(
                                0,
                            ),
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 179,
            end: 258,
        },
        kind: Loop(
            Loop {
                body: Block {
                    body: [
                        Stmt {
                            span: Span {
                                start: 188,
                                end: 207,
                            },
                            kind: Expr(
                                Expr {
                                    span: Span {
                                        start: 188,
                                        end: 207,
                                    },
                                    kind: If(
                                        If {
                                            br: [
                                                Branch {
                                                    cond: Expr {
                                                        span: Span {
                                                            start: 191,
                                                            end: 197,
                                                        },
                                                        kind: Binary(
                                                            Binary {
                                                                op: Gt,
                                                                lhs: Expr {
                                                                    span: Span {
                                                                        start: 191,
                                                                        end: 192,
                                                                    },
                                                                    kind: GetVar(
                                                                        GetVar {
                                                                            name: Ident {
                                                                                span: Span {
                                                                                    start: 191,
                                                                                    end: 192,
                                                                                },
                                                                                lexeme: "i",
                                                                            },
                                                                        },
                                                                    ),
                                                                },
                                                                rhs: Expr {
                                                                    span: Span {
                                                                        start: 195,
                                                                        end: 197,
                                                                    },
                                                                    kind: Lit(
                                                                        Int(
                                                                            10,
                                                                        ),
                                                                    ),
                                                                },
                                                            },
                                                        ),
                                                    },
                                                    body: Block {
                                                        body: [
                                                            Stmt {
                                                                span: Span {
                                                                    start: 200,
                                                                    end: 205,
                                                                },
                                                                kind: Break,
                                                            },
                                                        ],
                                                        last: None,
                                                    },
                                                },
                                            ],
                                            tail: None,
                                        },
                                    ),
                                },
                            ),
                        },
                        Stmt {
                            span: Span {
                                start: 210,
                                end: 236,
                            },
                            kind: Expr(
                                Expr {
                                    span: Span {
                                        start: 210,
                                        end: 236,
                                    },
                                    kind: If(
                                        If {
                                            br: [
                                                Branch {
                                                    cond: Expr {
                                                        span: Span {
                                                            start: 213,
                                                            end: 223,
                                                        },
                                                        kind: Binary(
                                                            Binary {
                                                                op: Eq,
                                                                lhs: Expr {
                                                                    span: Span {
                                                                        start: 213,
                                                                        end: 218,
                                                                    },
                                                                    kind: Binary(
                                                                        Binary {
                                                                            op: Rem,
                                                                            lhs: Expr {
                                                                                span: Span {
                                                                                    start: 213,
                                                                                    end: 214,
                                                                                },
                                                                                kind: GetVar(
                                                                                    GetVar {
                                                                                        name: Ident {
                                                                                            span: Span {
                                                                                                start: 213,
                                                                                                end: 214,
                                                                                            },
                                                                                            lexeme: "i",
                                                                                        },
                                                                                    },
                                                                                ),
                                                                            },
                                                                            rhs: Expr {
                                                                                span: Span {
                                                                                    start: 217,
                                                                                    end: 218,
                                                                                },
                                                                                kind: Lit(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            },
                                                                        },
                                                                    ),
                                                                },
                                                                rhs: Expr {
                                                                    span: Span {
                                                                        start: 222,
                                                                        end: 223,
                                                                    },
                                                                    kind: Lit(
                                                                        Int(
                                                                            0,
                                                                        ),
                                                                    ),
                                                                },
                                                            },
                                                        ),
                                                    },
                                                    body: Block {
                                                        body: [
                                                            Stmt {
                                                                span: Span {
                                                                    start: 226,
                                                                    end: 234,
                                                                },
                                                                kind: Continue,
                                                            },
                                                        ],
                                                        last: None,
                                                    },
                                                },
                                            ],
                                            tail: None,
                                        },
                                    ),
                                },
                            ),
                        },
                        Stmt {
                            span: Span {
                                start: 239,
                                end: 247,
                            },
                            kind: Expr(
                                Expr {
                                    span: Span {
                                        start: 239,
                                        end: 247,
                                    },
                                    kind: Call(
                                        Call {
                                            target: Expr {
                                                span: Span {
                                                    start: 239,
                                                    end: 244,
                                                },
                                                kind: GetVar(
                                                    GetVar {
                                                        name: Ident {
                                                            span: Span {
                                                                start: 239,
                                                                end: 244,
                                                            },
                                                            lexeme: "print",
                                                        },
                                                    },
                                                ),
                                            },
                                            args: [
                                                Expr {
                                                    span: Span {
                                                        start: 245,
                                                        end: 246,
                                                    },
                                                    kind: GetVar(
                                                        GetVar {
                                                            name: Ident {
                                                                span: Span {
                                                                    start: 245,
                                                                    end: 246,
                                                                },
                                                                lexeme: "i",
                                                            },
                                                        },
                                                    ),
                                                },
                                            ],
                                        },
                                    ),
                                },
                            ),
                        },
                    ],
                    last: Some(
                        Expr {
                            span: Span {
                                start: 250,
                                end: 256,
                            },
                            kind: SetVar(
                                SetVar {
                                    name: Ident {
                                        span: Span {
                                            start: 250,
                                            end: 251,
                                        },
                                        lexeme: "i",
                                    },
                                    value: Expr {
                                        span: Span {
                                            start: 255,
                                            end: 256,
                                        },
                                        kind: Lit(
                                            Int(
                                                1,
                                            ),
                                        ),
                                    },
                                    kind: Add,
                                },
                            ),
                        },
                    ),
                },
            },
        ),
    },
    Stmt {
        span: Span {
            start: 260,
            end: 327,
        },
        kind: Func(
            Func {
                name: Some(
                    Ident {
                        span: Span {
                            start: 263,
                            end: 273,
                        },
                        lexeme: "named_bare",
                    },
                ),
                params: [],
                body: Block {
                    body: [
                        Stmt {
                            span: Span {
                                start: 278,
                                end: 297,
                            },
                            kind: Expr(
                                Expr {
                                    span: Span {
                                        start: 278,
                                        end: 297,
                                    },
                                    kind: Call(
                                        Call {
                                            target: Expr {
                                                span: Span {
                                                    start: 278,
                                                    end: 283,
                                                },
                                                kind: GetVar(
                                                    GetVar {
                                                        name: Ident {
                                                            span: Span {
                                                                start: 278,
                                                                end: 283,
                                                            },
                                                            lexeme: "print",
                                                        },
                                                    },
                                                ),
                                            },
                                            args: [
                                                Expr {
                                                    span: Span {
                                                        start: 284,
                                                        end: 296,
                                                    },
                                                    kind: Lit(
                                                        String(
                                                            "named_bare",
                                                        ),
                                                    ),
                                                },
                                            ],
                                        },
                                    ),
                                },
                            ),
                        },
                        Stmt {
                            span: Span {
                                start: 300,
                                end: 315,
                            },
                            kind: Let(
                                Let {
                                    name: Ident {
                                        span: Span {
                                            start: 304,
                                            end: 311,
                                        },
                                        lexeme: "closure",
                                    },
                                    value: Some(
                                        Expr {
                                            span: Span {
                                                start: 314,
                                                end: 315,
                                            },
                                            kind: GetVar(
                                                GetVar {
                                                    name: Ident {
                                                        span: Span {
                                                            start: 314,
                                                            end: 315,
                                                        },
                                                        lexeme: "c",
                                                    },
                                                },
                                            ),
                                        },
                                    ),
                                },
                            ),
                        },
                    ],
                    last: Some(
                        Expr {
                            span: Span {
                                start: 318,
                                end: 325,
                            },
                            kind: GetVar(
                                GetVar {
                                    name: Ident {
                                        span: Span {
                                            start: 318,
                                            end: 325,
                                        },
                                        lexeme: "closure",
                                    },
                                },
                            ),
                        },
                    ),
                },
            },
        ),
    },
    Stmt {
        span: Span {
            start: 329,
            end: 405,
        },
        kind: Func(
            Func {
                name: Some(
                    Ident {
                        span: Span {
                            start: 332,
                            end: 342,
                        },
                        lexeme: "named_args",
                    },
                ),
                params: [
                    Ident {
                        span: Span {
                            start: 343,
                            end: 344,
                        },
                        lexeme: "n",
                    },
                ],
                body: Block {
                    body: [],
                    last: Some(
                        Expr {
                            span: Span {
                                start: 350,
                                end: 403,
                            },
                            kind: If(
                                If {
                                    br: [
                                        Branch {
                                            cond: Expr {
                                                span: Span {
                                                    start: 353,
                                                    end: 359,
                                                },
                                                kind: Binary(
                                                    Binary {
                                                        op: Gt,
                                                        lhs: Expr {
                                                            span: Span {
                                                                start: 353,
                                                                end: 354,
                                                            },
                                                            kind: GetVar(
                                                                GetVar {
                                                                    name: Ident {
                                                                        span: Span {
                                                                            start: 353,
                                                                            end: 354,
                                                                        },
                                                                        lexeme: "n",
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 357,
                                                                end: 359,
                                                            },
                                                            kind: Lit(
                                                                Int(
                                                                    10,
                                                                ),
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                            body: Block {
                                                body: [],
                                                last: Some(
                                                    Expr {
                                                        span: Span {
                                                            start: 362,
                                                            end: 376,
                                                        },
                                                        kind: Call(
                                                            Call {
                                                                target: Expr {
                                                                    span: Span {
                                                                        start: 362,
                                                                        end: 367,
                                                                    },
                                                                    kind: GetVar(
                                                                        GetVar {
                                                                            name: Ident {
                                                                                span: Span {
                                                                                    start: 362,
                                                                                    end: 367,
                                                                                },
                                                                                lexeme: "print",
                                                                            },
                                                                        },
                                                                    ),
                                                                },
                                                                args: [
                                                                    Expr {
                                                                        span: Span {
                                                                            start: 368,
                                                                            end: 375,
                                                                        },
                                                                        kind: Lit(
                                                                            String(
                                                                                "limit",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                    },
                                                ),
                                            },
                                        },
                                    ],
                                    tail: Some(
                                        Block {
                                            body: [],
                                            last: Some(
                                                Expr {
                                                    span: Span {
                                                        start: 388,
                                                        end: 401,
                                                    },
                                                    kind: Call(
                                                        Call {
                                                            target: Expr {
                                                                span: Span {
                                                                    start: 388,
                                                                    end: 393,
                                                                },
                                                                kind: GetVar(
                                                                    GetVar {
                                                                        name: Ident {
                                                                            span: Span {
                                                                                start: 388,
                                                                                end: 393,
                                                                            },
                                                                            lexeme: "print",
                                                                        },
                                                                    },
                                                                ),
                                                            },
                                                            args: [
                                                                Expr {
                                                                    span: Span {
                                                                        start: 394,
                                                                        end: 400,
                                                                    },
                                                                    kind: Lit(
                                                                        String(
                                                                            "next",
                                                                        ),
                                                                    ),
                                                                },
                                                            ],
                                                        },
                                                    ),
                                                },
                                            ),
                                        },
                                    ),
                                },
                            ),
                        },
                    ),
                },
            },
        ),
    },
    Stmt {
        span: Span {
            start: 407,
            end: 455,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 411,
                        end: 415,
                    },
                    lexeme: "anon",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 418,
                            end: 455,
                        },
                        kind: Func(
                            Func {
                                name: None,
                                params: [],
                                body: Block {
                                    body: [],
                                    last: Some(
                                        Expr {
                                            span: Span {
                                                start: 425,
                                                end: 453,
                                            },
                                            kind: Call(
                                                Call {
                                                    target: Expr {
                                                        span: Span {
                                                            start: 425,
                                                            end: 430,
                                                        },
                                                        kind: GetVar(
                                                            GetVar {
                                                                name: Ident {
                                                                    span: Span {
                                                                        start: 425,
                                                                        end: 430,
                                                                    },
                                                                    lexeme: "print",
                                                                },
                                                            },
                                                        ),
                                                    },
                                                    args: [
                                                        Expr {
                                                            span: Span {
                                                                start: 431,
                                                                end: 452,
                                                            },
                                                            kind: Lit(
                                                                String(
                                                                    "anonymous functions",
                                                                ),
                                                            ),
                                                        },
                                                    ],
                                                },
                                            ),
                                        },
                                    ),
                                },
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 457,
            end: 525,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 461,
                        end: 470,
                    },
                    lexeme: "anon_args",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 473,
                            end: 525,
                        },
                        kind: Func(
                            Func {
                                name: None,
                                params: [
                                    Ident {
                                        span: Span {
                                            start: 476,
                                            end: 477,
                                        },
                                        lexeme: "n",
                                    },
                                ],
                                body: Block {
                                    body: [],
                                    last: Some(
                                        Expr {
                                            span: Span {
                                                start: 483,
                                                end: 523,
                                            },
                                            kind: Call(
                                                Call {
                                                    target: Expr {
                                                        span: Span {
                                                            start: 483,
                                                            end: 488,
                                                        },
                                                        kind: GetVar(
                                                            GetVar {
                                                                name: Ident {
                                                                    span: Span {
                                                                        start: 483,
                                                                        end: 488,
                                                                    },
                                                                    lexeme: "print",
                                                                },
                                                            },
                                                        ),
                                                    },
                                                    args: [
                                                        Expr {
                                                            span: Span {
                                                                start: 489,
                                                                end: 519,
                                                            },
                                                            kind: Lit(
                                                                String(
                                                                    "anonymous function with args",
                                                                ),
                                                            ),
                                                        },
                                                        Expr {
                                                            span: Span {
                                                                start: 521,
                                                                end: 522,
                                                            },
                                                            kind: GetVar(
                                                                GetVar {
                                                                    name: Ident {
                                                                        span: Span {
                                                                            start: 521,
                                                                            end: 522,
                                                                        },
                                                                        lexeme: "n",
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                    ],
                                                },
                                            ),
                                        },
                                    ),
                                },
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 527,
            end: 569,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 531,
                        end: 538,
                    },
                    lexeme: "ternary",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 543,
                            end: 569,
                        },
                        kind: If(
                            If {
                                br: [
                                    Branch {
                                        cond: Expr {
                                            span: Span {
                                                start: 546,
                                                end: 550,
                                            },
                                            kind: Lit(
                                                Bool(
                                                    true,
                                                ),
                                            ),
                                        },
                                        body: Block {
                                            body: [],
                                            last: Some(
                                                Expr {
                                                    span: Span {
                                                        start: 553,
                                                        end: 554,
                                                    },
                                                    kind: Lit(
                                                        Int(
                                                            1,
                                                        ),
                                                    ),
                                                },
                                            ),
                                        },
                                    },
                                ],
                                tail: Some(
                                    Block {
                                        body: [],
                                        last: Some(
                                            Expr {
                                                span: Span {
                                                    start: 566,
                                                    end: 567,
                                                },
                                                kind: Lit(
                                                    Int(
                                                        0,
                                                    ),
                                                ),
                                            },
                                        ),
                                    },
                                ),
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 571,
            end: 609,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 575,
                        end: 580,
                    },
                    lexeme: "logic",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 585,
                            end: 609,
                        },
                        kind: Logical(
                            Logical {
                                op: Or,
                                lhs: Expr {
                                    span: Span {
                                        start: 585,
                                        end: 589,
                                    },
                                    kind: Lit(
                                        Bool(
                                            true,
                                        ),
                                    ),
                                },
                                rhs: Expr {
                                    span: Span {
                                        start: 593,
                                        end: 609,
                                    },
                                    kind: Logical(
                                        Logical {
                                            op: And,
                                            lhs: Expr {
                                                span: Span {
                                                    start: 593,
                                                    end: 598,
                                                },
                                                kind: Lit(
                                                    Bool(
                                                        false,
                                                    ),
                                                ),
                                            },
                                            rhs: Expr {
                                                span: Span {
                                                    start: 604,
                                                    end: 609,
                                                },
                                                kind: Unary(
                                                    Unary {
                                                        op: Not,
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 605,
                                                                end: 609,
                                                            },
                                                            kind: Lit(
                                                                Bool(
                                                                    true,
                                                                ),
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                        },
                                    ),
                                },
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 611,
            end: 683,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 615,
                        end: 625,
                    },
                    lexeme: "comparison",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 630,
                            end: 683,
                        },
                        kind: Logical(
                            Logical {
                                op: And,
                                lhs: Expr {
                                    span: Span {
                                        start: 630,
                                        end: 654,
                                    },
                                    kind: Logical(
                                        Logical {
                                            op: And,
                                            lhs: Expr {
                                                span: Span {
                                                    start: 630,
                                                    end: 644,
                                                },
                                                kind: Logical(
                                                    Logical {
                                                        op: And,
                                                        lhs: Expr {
                                                            span: Span {
                                                                start: 630,
                                                                end: 635,
                                                            },
                                                            kind: Binary(
                                                                Binary {
                                                                    op: Gt,
                                                                    lhs: Expr {
                                                                        span: Span {
                                                                            start: 630,
                                                                            end: 631,
                                                                        },
                                                                        kind: GetVar(
                                                                            GetVar {
                                                                                name: Ident {
                                                                                    span: Span {
                                                                                        start: 630,
                                                                                        end: 631,
                                                                                    },
                                                                                    lexeme: "c",
                                                                                },
                                                                            },
                                                                        ),
                                                                    },
                                                                    rhs: Expr {
                                                                        span: Span {
                                                                            start: 634,
                                                                            end: 635,
                                                                        },
                                                                        kind: GetVar(
                                                                            GetVar {
                                                                                name: Ident {
                                                                                    span: Span {
                                                                                        start: 634,
                                                                                        end: 635,
                                                                                    },
                                                                                    lexeme: "d",
                                                                                },
                                                                            },
                                                                        ),
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 639,
                                                                end: 644,
                                                            },
                                                            kind: Binary(
                                                                Binary {
                                                                    op: Lt,
                                                                    lhs: Expr {
                                                                        span: Span {
                                                                            start: 639,
                                                                            end: 640,
                                                                        },
                                                                        kind: GetVar(
                                                                            GetVar {
                                                                                name: Ident {
                                                                                    span: Span {
                                                                                        start: 639,
                                                                                        end: 640,
                                                                                    },
                                                                                    lexeme: "d",
                                                                                },
                                                                            },
                                                                        ),
                                                                    },
                                                                    rhs: Expr {
                                                                        span: Span {
                                                                            start: 643,
                                                                            end: 644,
                                                                        },
                                                                        kind: GetVar(
                                                                            GetVar {
                                                                                name: Ident {
                                                                                    span: Span {
                                                                                        start: 643,
                                                                                        end: 644,
                                                                                    },
                                                                                    lexeme: "c",
                                                                                },
                                                                            },
                                                                        ),
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                            rhs: Expr {
                                                span: Span {
                                                    start: 648,
                                                    end: 654,
                                                },
                                                kind: Binary(
                                                    Binary {
                                                        op: Ge,
                                                        lhs: Expr {
                                                            span: Span {
                                                                start: 648,
                                                                end: 649,
                                                            },
                                                            kind: GetVar(
                                                                GetVar {
                                                                    name: Ident {
                                                                        span: Span {
                                                                            start: 648,
                                                                            end: 649,
                                                                        },
                                                                        lexeme: "a",
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 653,
                                                                end: 654,
                                                            },
                                                            kind: GetVar(
                                                                GetVar {
                                                                    name: Ident {
                                                                        span: Span {
                                                                            start: 653,
                                                                            end: 654,
                                                                        },
                                                                        lexeme: "c",
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                        },
                                    ),
                                },
                                rhs: Expr {
                                    span: Span {
                                        start: 658,
                                        end: 683,
                                    },
                                    kind: Binary(
                                        Binary {
                                            op: Ne,
                                            lhs: Expr {
                                                span: Span {
                                                    start: 658,
                                                    end: 674,
                                                },
                                                kind: Binary(
                                                    Binary {
                                                        op: Eq,
                                                        lhs: Expr {
                                                            span: Span {
                                                                start: 658,
                                                                end: 664,
                                                            },
                                                            kind: Binary(
                                                                Binary {
                                                                    op: Le,
                                                                    lhs: Expr {
                                                                        span: Span {
                                                                            start: 658,
                                                                            end: 659,
                                                                        },
                                                                        kind: GetVar(
                                                                            GetVar {
                                                                                name: Ident {
                                                                                    span: Span {
                                                                                        start: 658,
                                                                                        end: 659,
                                                                                    },
                                                                                    lexeme: "a",
                                                                                },
                                                                            },
                                                                        ),
                                                                    },
                                                                    rhs: Expr {
                                                                        span: Span {
                                                                            start: 663,
                                                                            end: 664,
                                                                        },
                                                                        kind: GetVar(
                                                                            GetVar {
                                                                                name: Ident {
                                                                                    span: Span {
                                                                                        start: 663,
                                                                                        end: 664,
                                                                                    },
                                                                                    lexeme: "c",
                                                                                },
                                                                            },
                                                                        ),
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 670,
                                                                end: 674,
                                                            },
                                                            kind: Lit(
                                                                Bool(
                                                                    true,
                                                                ),
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                            rhs: Expr {
                                                span: Span {
                                                    start: 678,
                                                    end: 683,
                                                },
                                                kind: Lit(
                                                    Bool(
                                                        false,
                                                    ),
                                                ),
                                            },
                                        },
                                    ),
                                },
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 685,
            end: 731,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 689,
                        end: 699,
                    },
                    lexeme: "arithmetic",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 704,
                            end: 731,
                        },
                        kind: Binary(
                            Binary {
                                op: Sub,
                                lhs: Expr {
                                    span: Span {
                                        start: 704,
                                        end: 710,
                                    },
                                    kind: Binary(
                                        Binary {
                                            op: Add,
                                            lhs: Expr {
                                                span: Span {
                                                    start: 704,
                                                    end: 706,
                                                },
                                                kind: Unary(
                                                    Unary {
                                                        op: Min,
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 705,
                                                                end: 706,
                                                            },
                                                            kind: GetVar(
                                                                GetVar {
                                                                    name: Ident {
                                                                        span: Span {
                                                                            start: 705,
                                                                            end: 706,
                                                                        },
                                                                        lexeme: "c",
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                            rhs: Expr {
                                                span: Span {
                                                    start: 709,
                                                    end: 710,
                                                },
                                                kind: GetVar(
                                                    GetVar {
                                                        name: Ident {
                                                            span: Span {
                                                                start: 709,
                                                                end: 710,
                                                            },
                                                            lexeme: "d",
                                                        },
                                                    },
                                                ),
                                            },
                                        },
                                    ),
                                },
                                rhs: Expr {
                                    span: Span {
                                        start: 713,
                                        end: 731,
                                    },
                                    kind: Binary(
                                        Binary {
                                            op: Rem,
                                            lhs: Expr {
                                                span: Span {
                                                    start: 713,
                                                    end: 722,
                                                },
                                                kind: Binary(
                                                    Binary {
                                                        op: Div,
                                                        lhs: Expr {
                                                            span: Span {
                                                                start: 713,
                                                                end: 718,
                                                            },
                                                            kind: Binary(
                                                                Binary {
                                                                    op: Mul,
                                                                    lhs: Expr {
                                                                        span: Span {
                                                                            start: 713,
                                                                            end: 714,
                                                                        },
                                                                        kind: GetVar(
                                                                            GetVar {
                                                                                name: Ident {
                                                                                    span: Span {
                                                                                        start: 713,
                                                                                        end: 714,
                                                                                    },
                                                                                    lexeme: "a",
                                                                                },
                                                                            },
                                                                        ),
                                                                    },
                                                                    rhs: Expr {
                                                                        span: Span {
                                                                            start: 717,
                                                                            end: 718,
                                                                        },
                                                                        kind: Lit(
                                                                            Int(
                                                                                0,
                                                                            ),
                                                                        ),
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 721,
                                                                end: 722,
                                                            },
                                                            kind: Lit(
                                                                Int(
                                                                    1,
                                                                ),
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                            rhs: Expr {
                                                span: Span {
                                                    start: 725,
                                                    end: 731,
                                                },
                                                kind: Binary(
                                                    Binary {
                                                        op: Pow,
                                                        lhs: Expr {
                                                            span: Span {
                                                                start: 725,
                                                                end: 726,
                                                            },
                                                            kind: Lit(
                                                                Int(
                                                                    2,
                                                                ),
                                                            ),
                                                        },
                                                        rhs: Expr {
                                                            span: Span {
                                                                start: 730,
                                                                end: 731,
                                                            },
                                                            kind: Lit(
                                                                Int(
                                                                    2,
                                                                ),
                                                            ),
                                                        },
                                                    },
                                                ),
                                            },
                                        },
                                    ),
                                },
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 733,
            end: 947,
        },
        kind: Func(
            Func {
                name: Some(
                    Ident {
                        span: Span {
                            start: 736,
                            end: 747,
                        },
                        lexeme: "make_record",
                    },
                ),
                params: [],
                body: Block {
                    body: [],
                    last: Some(
                        Expr {
                            span: Span {
                                start: 944,
                                end: 945,
                            },
                            kind: Lit(
                                Record(
                                    [
                                        (
                                            Ident {
                                                span: Span {
                                                    start: 759,
                                                    end: 763,
                                                },
                                                lexeme: "list",
                                            },
                                            Expr {
                                                span: Span {
                                                    start: 939,
                                                    end: 940,
                                                },
                                                kind: Lit(
                                                    List(
                                                        [
                                                            Expr {
                                                                span: Span {
                                                                    start: 774,
                                                                    end: 775,
                                                                },
                                                                kind: Lit(
                                                                    Int(
                                                                        0,
                                                                    ),
                                                                ),
                                                            },
                                                            Expr {
                                                                span: Span {
                                                                    start: 783,
                                                                    end: 786,
                                                                },
                                                                kind: Lit(
                                                                    Float(
                                                                        1.0,
                                                                    ),
                                                                ),
                                                            },
                                                            Expr {
                                                                span: Span {
                                                                    start: 794,
                                                                    end: 798,
                                                                },
                                                                kind: Lit(
                                                                    Bool(
                                                                        true,
                                                                    ),
                                                                ),
                                                            },
                                                            Expr {
                                                                span: Span {
                                                                    start: 806,
                                                                    end: 811,
                                                                },
                                                                kind: Lit(
                                                                    Bool(
                                                                        false,
                                                                    ),
                                                                ),
                                                            },
                                                            Expr {
                                                                span: Span {
                                                                    start: 819,
                                                                    end: 822,
                                                                },
                                                                kind: Lit(
                                                                    Nil,
                                                                ),
                                                            },
                                                            Expr {
                                                                span: Span {
                                                                    start: 830,
                                                                    end: 835,
                                                                },
                                                                kind: Lit(
                                                                    String(
                                                                        "str",
                                                                    ),
                                                                ),
                                                            },
                                                            Expr {
                                                                span: Span {
                                                                    start: 932,
                                                                    end: 933,
                                                                },
                                                                kind: Lit(
                                                                    Tuple(
                                                                        [
                                                                            Expr {
                                                                                span: Span {
                                                                                    start: 854,
                                                                                    end: 855,
                                                                                },
                                                                                kind: Lit(
                                                                                    Int(
                                                                                        0,
                                                                                    ),
                                                                                ),
                                                                            },
                                                                            Expr {
                                                                                span: Span {
                                                                                    start: 865,
                                                                                    end: 868,
                                                                                },
                                                                                kind: Lit(
                                                                                    Float(
                                                                                        1.0,
                                                                                    ),
                                                                                ),
                                                                            },
                                                                            Expr {
                                                                                span: Span {
                                                                                    start: 878,
                                                                                    end: 882,
                                                                                },
                                                                                kind: Lit(
                                                                                    Bool(
                                                                                        true,
                                                                                    ),
                                                                                ),
                                                                            },
                                                                            Expr {
                                                                                span: Span {
                                                                                    start: 892,
                                                                                    end: 897,
                                                                                },
                                                                                kind: Lit(
                                                                                    Bool(
                                                                                        false,
                                                                                    ),
                                                                                ),
                                                                            },
                                                                            Expr {
                                                                                span: Span {
                                                                                    start: 907,
                                                                                    end: 910,
                                                                                },
                                                                                kind: Lit(
                                                                                    Nil,
                                                                                ),
                                                                            },
                                                                            Expr {
                                                                                span: Span {
                                                                                    start: 920,
                                                                                    end: 925,
                                                                                },
                                                                                kind: Lit(
                                                                                    String(
                                                                                        "str",
                                                                                    ),
                                                                                ),
                                                                            },
                                                                        ],
                                                                    ),
                                                                ),
                                                            },
                                                        ],
                                                    ),
                                                ),
                                            },
                                        ),
                                    ],
                                ),
                            ),
                        },
                    ),
                },
            },
        ),
    },
    Stmt {
        span: Span {
            start: 949,
            end: 986,
        },
        kind: Let(
            Let {
                name: Ident {
                    span: Span {
                        start: 953,
                        end: 960,
                    },
                    lexeme: "postfix",
                },
                value: Some(
                    Expr {
                        span: Span {
                            start: 965,
                            end: 986,
                        },
                        kind: GetIndex(
                            GetIndex {
                                target: Expr {
                                    span: Span {
                                        start: 965,
                                        end: 983,
                                    },
                                    kind: GetField(
                                        GetField {
                                            target: Expr {
                                                span: Span {
                                                    start: 965,
                                                    end: 978,
                                                },
                                                kind: Call(
                                                    Call {
                                                        target: Expr {
                                                            span: Span {
                                                                start: 965,
                                                                end: 976,
                                                            },
                                                            kind: GetVar(
                                                                GetVar {
                                                                    name: Ident {
                                                                        span: Span {
                                                                            start: 965,
                                                                            end: 976,
                                                                        },
                                                                        lexeme: "make_record",
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                        args: [],
                                                    },
                                                ),
                                            },
                                            key: Ident(
                                                Ident {
                                                    span: Span {
                                                        start: 979,
                                                        end: 983,
                                                    },
                                                    lexeme: "list",
                                                },
                                            ),
                                        },
                                    ),
                                },
                                index: Expr {
                                    span: Span {
                                        start: 984,
                                        end: 985,
                                    },
                                    kind: Lit(
                                        Int(
                                            6,
                                        ),
                                    ),
                                },
                            },
                        ),
                    },
                ),
            },
        ),
    },
    Stmt {
        span: Span {
            start: 988,
            end: 1022,
        },
        kind: Expr(
            Expr {
                span: Span {
                    start: 988,
                    end: 1022,
                },
                kind: SetIndex(
                    SetIndex {
                        target: Expr {
                            span: Span {
                                start: 988,
                                end: 1006,
                            },
                            kind: GetField(
                                GetField {
                                    target: Expr {
                                        span: Span {
                                            start: 988,
                                            end: 1001,
                                        },
                                        kind: Call(
                                            Call {
                                                target: Expr {
                                                    span: Span {
                                                        start: 988,
                                                        end: 999,
                                                    },
                                                    kind: GetVar(
                                                        GetVar {
                                                            name: Ident {
                                                                span: Span {
                                                                    start: 988,
                                                                    end: 999,
                                                                },
                                                                lexeme: "make_record",
                                                            },
                                                        },
                                                    ),
                                                },
                                                args: [],
                                            },
                                        ),
                                    },
                                    key: Ident(
                                        Ident {
                                            span: Span {
                                                start: 1002,
                                                end: 1006,
                                            },
                                            lexeme: "list",
                                        },
                                    ),
                                },
                            ),
                        },
                        index: Expr {
                            span: Span {
                                start: 1007,
                                end: 1008,
                            },
                            kind: Lit(
                                Int(
                                    6,
                                ),
                            ),
                        },
                        value: Expr {
                            span: Span {
                                start: 1021,
                                end: 1022,
                            },
                            kind: Lit(
                                Tuple(
                                    [
                                        Expr {
                                            span: Span {
                                                start: 1014,
                                                end: 1021,
                                            },
                                            kind: Lit(
                                                String(
                                                    "empty",
                                                ),
                                            ),
                                        },
                                    ],
                                ),
                            ),
                        },
                        kind: Bare,
                    },
                ),
            },
        ),
    },
]
